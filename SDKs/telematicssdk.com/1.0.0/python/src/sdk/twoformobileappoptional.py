import requests
from typing import Optional
from sdk.models import operations
from . import utils

class TwoForMobileAppOptional:
    _client: requests.Session
    _security_client: requests.Session
    _server_url: str
    _language: str
    _sdk_version: str
    _gen_version: str

    def __init__(self, client: requests.Session, security_client: requests.Session, server_url: str, language: str, sdk_version: str, gen_version: str) -> None:
        self._client = client
        self._security_client = security_client
        self._server_url = server_url
        self._language = language
        self._sdk_version = sdk_version
        self._gen_version = gen_version

    
    def trips_trip_details(self, request: operations.TripsTripDetailsRequest) -> operations.TripsTripDetailsResponse:
        r"""Trips - trip details
        Trips - trip details
        """
        
        base_url = self._server_url
        
        url = base_url.removesuffix("/") + "/mobilesdk/stage/track/get_track/v1"
        
        query_params = utils.get_query_params(request.query_params)
        
        client = self._client
        
        r = client.request("GET", url, params=query_params)
        content_type = r.headers.get("Content-Type")

        res = operations.TripsTripDetailsResponse(status_code=r.status_code, content_type=content_type)
        
        if r.status_code == 200:
            res.headers = r.headers
            
            if utils.match_content_type(content_type, "application/json"):
                out = utils.unmarshal_json(r.text, Optional[operations.TripsTripDetails200ApplicationJSON])
                res.trips_trip_details_200_application_json_object = out

        return res

    
    def user_safe_scoring_accumulated_value_v1_scorings_individual(self, request: operations.UserSafeScoringAccumulatedValueV1ScoringsIndividualRequest) -> operations.UserSafeScoringAccumulatedValueV1ScoringsIndividualResponse:
        r"""User safe scoring - Accumulated value - v1/Scorings/individual
        Safe driving score API. This API is a part of Telematics API that we provide to our clients.
        
        Rating description presents the universal approach, developed by our company on the basis of many years of experience; most of the input variables presented in this document could be adopted depending on the needs of the company and the focus on the specific characteristics of clients' driving style.
        Since 2019 we have moved to the 3rd Generation of the scoring model which allows distinguishing a context of events and add penalty points in accordance with a level of risk generated by an event
        
        [More details](https://docs.telematicssdk.com)
        """
        
        base_url = self._server_url
        
        url = base_url.removesuffix("/") + "/statistics/v1/Scorings/individual/"
        
        query_params = utils.get_query_params(request.query_params)
        
        client = self._client
        
        r = client.request("GET", url, params=query_params)
        content_type = r.headers.get("Content-Type")

        res = operations.UserSafeScoringAccumulatedValueV1ScoringsIndividualResponse(status_code=r.status_code, content_type=content_type)
        
        if r.status_code == 200:
            res.headers = r.headers
            
            if utils.match_content_type(content_type, "application/json"):
                out = utils.unmarshal_json(r.text, Optional[operations.UserSafeScoringAccumulatedValueV1ScoringsIndividual200ApplicationJSON])
                res.user_safe_scoring_accumulated_value_v1_scorings_individual_200_application_json_object = out

        return res

    
    def user_safe_scoring_daily_value_v1_scorings_individual_daily(self, request: operations.UserSafeScoringDailyValueV1ScoringsIndividualDailyRequest) -> operations.UserSafeScoringDailyValueV1ScoringsIndividualDailyResponse:
        r"""User safe scoring - daily value - /v1/Scorings/individual/daily
        User safe scoring - daily value - /v1/Scorings/individual/daily
        """
        
        base_url = self._server_url
        
        url = base_url.removesuffix("/") + "/statistics/v1/Scorings/individual/daily"
        
        query_params = utils.get_query_params(request.query_params)
        
        client = self._client
        
        r = client.request("GET", url, params=query_params)
        content_type = r.headers.get("Content-Type")

        res = operations.UserSafeScoringDailyValueV1ScoringsIndividualDailyResponse(status_code=r.status_code, content_type=content_type)
        
        if r.status_code == 200:
            res.headers = r.headers
            
            if utils.match_content_type(content_type, "application/json"):
                out = utils.unmarshal_json(r.text, Optional[operations.UserSafeScoringDailyValueV1ScoringsIndividualDaily200ApplicationJSON])
                res.user_safe_scoring_daily_value_v1_scorings_individual_daily_200_application_json_object = out

        return res

    
    def user_statistice_daily_value_v1_statistics_individual_daily(self, request: operations.UserStatisticeDailyValueV1StatisticsIndividualDailyRequest) -> operations.UserStatisticeDailyValueV1StatisticsIndividualDailyResponse:
        r"""User statistice - Daily value - v1/Statistics/individual/daily
        User statistice - Daily value - v1/Statistics/individual/daily
        """
        
        base_url = self._server_url
        
        url = base_url.removesuffix("/") + "/statistics/v1/Statistics/individual/daily/"
        
        query_params = utils.get_query_params(request.query_params)
        
        client = self._client
        
        r = client.request("GET", url, params=query_params)
        content_type = r.headers.get("Content-Type")

        res = operations.UserStatisticeDailyValueV1StatisticsIndividualDailyResponse(status_code=r.status_code, content_type=content_type)
        
        if r.status_code == 200:
            res.headers = r.headers
            
            if utils.match_content_type(content_type, "application/json"):
                out = utils.unmarshal_json(r.text, Optional[operations.UserStatisticeDailyValueV1StatisticsIndividualDaily200ApplicationJSON])
                res.user_statistice_daily_value_v1_statistics_individual_daily_200_application_json_object = out

        return res

    
    def user_statistics_accumulated_value_v1_statistics_individual(self, request: operations.UserStatisticsAccumulatedValueV1StatisticsIndividualRequest) -> operations.UserStatisticsAccumulatedValueV1StatisticsIndividualResponse:
        r"""User statistics - Accumulated value - /v1/Statistics/individual
        User statistics - Accumulated value - /v1/Statistics/individual
        """
        
        base_url = self._server_url
        
        url = base_url.removesuffix("/") + "/statistics/v1/Statistics/individual/"
        
        query_params = utils.get_query_params(request.query_params)
        
        client = self._client
        
        r = client.request("GET", url, params=query_params)
        content_type = r.headers.get("Content-Type")

        res = operations.UserStatisticsAccumulatedValueV1StatisticsIndividualResponse(status_code=r.status_code, content_type=content_type)
        
        if r.status_code == 200:
            res.headers = r.headers
            
            if utils.match_content_type(content_type, "application/json"):
                out = utils.unmarshal_json(r.text, Optional[operations.UserStatisticsAccumulatedValueV1StatisticsIndividual200ApplicationJSON])
                res.user_statistics_accumulated_value_v1_statistics_individual_200_application_json_object = out

        return res

    