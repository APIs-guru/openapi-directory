import { SpeakeasyMetadata, SpeakeasyBase } from "../../../internal/utils";
import { BuildApproval } from "./buildapproval";
import { Artifacts } from "./artifacts";
import { Secrets } from "./secrets";
import { FailureInfo } from "./failureinfo";
import { BuildOptions } from "./buildoptions";
import { Results } from "./results";
import { Secret } from "./secret";
import { Source } from "./source";
import { SourceProvenance } from "./sourceprovenance";
import { BuildStep } from "./buildstep";
import { TimeSpan } from "./timespan";
import { Warning } from "./warning";
import { BuildApprovalInput } from "./buildapproval";
import { SourceProvenanceInput } from "./sourceprovenance";
import { BuildStepInput } from "./buildstep";


export enum BuildStatusEnum {
    StatusUnknown = "STATUS_UNKNOWN",
    Pending = "PENDING",
    Queued = "QUEUED",
    Working = "WORKING",
    Success = "SUCCESS",
    Failure = "FAILURE",
    InternalError = "INTERNAL_ERROR",
    Timeout = "TIMEOUT",
    Cancelled = "CANCELLED",
    Expired = "EXPIRED"
}


// Build
/** 
 * A build resource in the Cloud Build API. At a high level, a `Build` describes where to find source code, how to build it (for example, the builder image to run on the source), and where to store the built artifacts. Fields can include the following variables, which will be expanded when the build is created: - $PROJECT_ID: the project ID of the build. - $PROJECT_NUMBER: the project number of the build. - $LOCATION: the location/region of the build. - $BUILD_ID: the autogenerated ID of the build. - $REPO_NAME: the source repository name specified by RepoSource. - $BRANCH_NAME: the branch name specified by RepoSource. - $TAG_NAME: the tag name specified by RepoSource. - $REVISION_ID or $COMMIT_SHA: the commit SHA specified by RepoSource or resolved from the specified branch or tag. - $SHORT_SHA: first 7 characters of $REVISION_ID or $COMMIT_SHA.
**/
export class Build extends SpeakeasyBase {
  @SpeakeasyMetadata({ data: "json, name=approval" })
  approval?: BuildApproval;

  @SpeakeasyMetadata({ data: "json, name=artifacts" })
  artifacts?: Artifacts;

  @SpeakeasyMetadata({ data: "json, name=availableSecrets" })
  availableSecrets?: Secrets;

  @SpeakeasyMetadata({ data: "json, name=buildTriggerId" })
  buildTriggerId?: string;

  @SpeakeasyMetadata({ data: "json, name=createTime" })
  createTime?: string;

  @SpeakeasyMetadata({ data: "json, name=failureInfo" })
  failureInfo?: FailureInfo;

  @SpeakeasyMetadata({ data: "json, name=finishTime" })
  finishTime?: string;

  @SpeakeasyMetadata({ data: "json, name=id" })
  id?: string;

  @SpeakeasyMetadata({ data: "json, name=images" })
  images?: string[];

  @SpeakeasyMetadata({ data: "json, name=logUrl" })
  logUrl?: string;

  @SpeakeasyMetadata({ data: "json, name=logsBucket" })
  logsBucket?: string;

  @SpeakeasyMetadata({ data: "json, name=name" })
  name?: string;

  @SpeakeasyMetadata({ data: "json, name=options" })
  options?: BuildOptions;

  @SpeakeasyMetadata({ data: "json, name=projectId" })
  projectId?: string;

  @SpeakeasyMetadata({ data: "json, name=queueTtl" })
  queueTtl?: string;

  @SpeakeasyMetadata({ data: "json, name=results" })
  results?: Results;

  @SpeakeasyMetadata({ data: "json, name=secrets", elemType: Secret })
  secrets?: Secret[];

  @SpeakeasyMetadata({ data: "json, name=serviceAccount" })
  serviceAccount?: string;

  @SpeakeasyMetadata({ data: "json, name=source" })
  source?: Source;

  @SpeakeasyMetadata({ data: "json, name=sourceProvenance" })
  sourceProvenance?: SourceProvenance;

  @SpeakeasyMetadata({ data: "json, name=startTime" })
  startTime?: string;

  @SpeakeasyMetadata({ data: "json, name=status" })
  status?: BuildStatusEnum;

  @SpeakeasyMetadata({ data: "json, name=statusDetail" })
  statusDetail?: string;

  @SpeakeasyMetadata({ data: "json, name=steps", elemType: BuildStep })
  steps?: BuildStep[];

  @SpeakeasyMetadata({ data: "json, name=substitutions" })
  substitutions?: Map<string, string>;

  @SpeakeasyMetadata({ data: "json, name=tags" })
  tags?: string[];

  @SpeakeasyMetadata({ data: "json, name=timeout" })
  timeout?: string;

  @SpeakeasyMetadata({ data: "json, name=timing", elemType: TimeSpan })
  timing?: Map<string, TimeSpan>;

  @SpeakeasyMetadata({ data: "json, name=warnings", elemType: Warning })
  warnings?: Warning[];
}


// BuildInput
/** 
 * A build resource in the Cloud Build API. At a high level, a `Build` describes where to find source code, how to build it (for example, the builder image to run on the source), and where to store the built artifacts. Fields can include the following variables, which will be expanded when the build is created: - $PROJECT_ID: the project ID of the build. - $PROJECT_NUMBER: the project number of the build. - $LOCATION: the location/region of the build. - $BUILD_ID: the autogenerated ID of the build. - $REPO_NAME: the source repository name specified by RepoSource. - $BRANCH_NAME: the branch name specified by RepoSource. - $TAG_NAME: the tag name specified by RepoSource. - $REVISION_ID or $COMMIT_SHA: the commit SHA specified by RepoSource or resolved from the specified branch or tag. - $SHORT_SHA: first 7 characters of $REVISION_ID or $COMMIT_SHA.
**/
export class BuildInput extends SpeakeasyBase {
  @SpeakeasyMetadata({ data: "json, name=approval" })
  approval?: BuildApprovalInput;

  @SpeakeasyMetadata({ data: "json, name=artifacts" })
  artifacts?: Artifacts;

  @SpeakeasyMetadata({ data: "json, name=availableSecrets" })
  availableSecrets?: Secrets;

  @SpeakeasyMetadata({ data: "json, name=failureInfo" })
  failureInfo?: FailureInfo;

  @SpeakeasyMetadata({ data: "json, name=images" })
  images?: string[];

  @SpeakeasyMetadata({ data: "json, name=logsBucket" })
  logsBucket?: string;

  @SpeakeasyMetadata({ data: "json, name=options" })
  options?: BuildOptions;

  @SpeakeasyMetadata({ data: "json, name=queueTtl" })
  queueTtl?: string;

  @SpeakeasyMetadata({ data: "json, name=results" })
  results?: Results;

  @SpeakeasyMetadata({ data: "json, name=secrets", elemType: Secret })
  secrets?: Secret[];

  @SpeakeasyMetadata({ data: "json, name=serviceAccount" })
  serviceAccount?: string;

  @SpeakeasyMetadata({ data: "json, name=source" })
  source?: Source;

  @SpeakeasyMetadata({ data: "json, name=sourceProvenance" })
  sourceProvenance?: SourceProvenanceInput;

  @SpeakeasyMetadata({ data: "json, name=steps", elemType: BuildStepInput })
  steps?: BuildStepInput[];

  @SpeakeasyMetadata({ data: "json, name=substitutions" })
  substitutions?: Map<string, string>;

  @SpeakeasyMetadata({ data: "json, name=tags" })
  tags?: string[];

  @SpeakeasyMetadata({ data: "json, name=timeout" })
  timeout?: string;
}
