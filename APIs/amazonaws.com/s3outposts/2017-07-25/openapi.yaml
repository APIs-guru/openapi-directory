openapi: 3.0.0
info:
  version: '2017-07-25'
  x-release: v4
  title: Amazon S3 on Outposts
  description: Amazon S3 on Outposts provides access to S3 on Outposts operations.
  x-logo:
    url: 'https://twitter.com/awscloud/profile_image?size=original'
    backgroundColor: '#FFFFFF'
  termsOfService: 'https://aws.amazon.com/service-terms/'
  contact:
    name: Mike Ralphson
    email: mike.ralphson@gmail.com
    url: 'https://github.com/mermade/aws2openapi'
    x-twitter: PermittedSoc
  license:
    name: Apache 2.0 License
    url: 'http://www.apache.org/licenses/'
  x-providerName: amazonaws.com
  x-serviceName: s3outposts
  x-origin:
    - contentType: application/json
      url: 'https://raw.githubusercontent.com/aws/aws-sdk-js/master/apis/s3outposts-2017-07-25.normal.json'
      converter:
        url: 'https://github.com/mermade/aws2openapi'
        version: 1.0.0
      x-apisguru-driver: external
  x-apiClientRegistration:
    url: 'https://portal.aws.amazon.com/gp/aws/developer/registration/index.html?nc2=h_ct'
  x-apisguru-categories:
    - cloud
  x-preferred: true
externalDocs:
  description: Amazon Web Services documentation
  url: 'https://docs.aws.amazon.com/s3-outposts/'
servers:
  - url: 'http://s3-outposts.{region}.amazonaws.com'
    variables:
      region:
        description: The AWS region
        enum:
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
          - us-gov-west-1
          - us-gov-east-1
          - ca-central-1
          - eu-north-1
          - eu-west-1
          - eu-west-2
          - eu-west-3
          - eu-central-1
          - eu-south-1
          - af-south-1
          - ap-northeast-1
          - ap-northeast-2
          - ap-northeast-3
          - ap-southeast-1
          - ap-southeast-2
          - ap-east-1
          - ap-south-1
          - sa-east-1
          - me-south-1
        default: us-east-1
    description: The Amazon S3 Outposts multi-region endpoint
  - url: 'https://s3-outposts.{region}.amazonaws.com'
    variables:
      region:
        description: The AWS region
        enum:
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
          - us-gov-west-1
          - us-gov-east-1
          - ca-central-1
          - eu-north-1
          - eu-west-1
          - eu-west-2
          - eu-west-3
          - eu-central-1
          - eu-south-1
          - af-south-1
          - ap-northeast-1
          - ap-northeast-2
          - ap-northeast-3
          - ap-southeast-1
          - ap-southeast-2
          - ap-east-1
          - ap-south-1
          - sa-east-1
          - me-south-1
        default: us-east-1
    description: The Amazon S3 Outposts multi-region endpoint
  - url: 'http://s3-outposts.{region}.amazonaws.com.cn'
    variables:
      region:
        description: The AWS region
        enum:
          - cn-north-1
          - cn-northwest-1
        default: cn-north-1
    description: The Amazon S3 Outposts endpoint for China (Beijing) and China (Ningxia)
  - url: 'https://s3-outposts.{region}.amazonaws.com.cn'
    variables:
      region:
        description: The AWS region
        enum:
          - cn-north-1
          - cn-northwest-1
        default: cn-north-1
    description: The Amazon S3 Outposts endpoint for China (Beijing) and China (Ningxia)
paths:
  /S3Outposts/CreateEndpoint:
    post:
      operationId: CreateEndpoint
      description: '<p>S3 on Outposts access points simplify managing data access at scale for shared datasets in Amazon S3 on Outposts. S3 on Outposts uses endpoints to connect to Outposts buckets so that you can perform actions within your virtual private cloud (VPC). </p> <p>This action creates an endpoint and associates it with the specified Outpost. </p> <p/> <p>Related actions include:</p> <ul> <li> <p> <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_s3outposts_DeleteEndpoint.html">DeleteEndpoint</a> </p> </li> <li> <p> <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_s3outposts_ListEndpoints.html">ListEndpoints</a> </p> </li> </ul>'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateEndpointResult'
        '480':
          description: InternalServerException
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerException'
        '481':
          description: ValidationException
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationException'
        '482':
          description: AccessDeniedException
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccessDeniedException'
        '483':
          description: ResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceNotFoundException'
        '484':
          description: ConflictException
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConflictException'
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - OutpostId
                - SubnetId
                - SecurityGroupId
              properties:
                OutpostId:
                  description: 'The ID of the AWS Outpost. '
                  type: string
                  pattern: '^(op-[a-f0-9]{17}|\d{12}|ec2)$'
                  minLength: 1
                  maxLength: 100
                SubnetId:
                  description: The ID of the subnet in the selected VPC.
                  type: string
                  pattern: '^subnet-([0-9a-f]{8}|[0-9a-f]{17})$'
                  minLength: 1
                  maxLength: 100
                SecurityGroupId:
                  description: The ID of the security group to use with the endpoint.
                  type: string
                  pattern: '^sg-([0-9a-f]{8}|[0-9a-f]{17})$'
                  minLength: 1
                  maxLength: 100
    parameters:
      - $ref: '#/components/parameters/X-Amz-Content-Sha256'
      - $ref: '#/components/parameters/X-Amz-Date'
      - $ref: '#/components/parameters/X-Amz-Algorithm'
      - $ref: '#/components/parameters/X-Amz-Credential'
      - $ref: '#/components/parameters/X-Amz-Security-Token'
      - $ref: '#/components/parameters/X-Amz-Signature'
      - $ref: '#/components/parameters/X-Amz-SignedHeaders'
  /S3Outposts/DeleteEndpoint#endpointId&outpostId:
    delete:
      operationId: DeleteEndpoint
      description: '<p>S3 on Outposts access points simplify managing data access at scale for shared datasets in Amazon S3 on Outposts. S3 on Outposts uses endpoints to connect to Outposts buckets so that you can perform actions within your virtual private cloud (VPC). </p> <p>This action deletes an endpoint. </p> <p/> <p>Related actions include:</p> <ul> <li> <p> <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_s3outposts_CreateEndpoint.html">CreateEndpoint</a> </p> </li> <li> <p> <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_s3outposts_ListEndpoints.html">ListEndpoints</a> </p> </li> </ul>'
      responses:
        '200':
          description: Success
        '480':
          description: InternalServerException
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerException'
        '481':
          description: AccessDeniedException
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccessDeniedException'
        '482':
          description: ResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceNotFoundException'
        '483':
          description: ValidationException
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationException'
      parameters:
        - name: endpointId
          in: query
          required: true
          description: The ID of the end point.
          schema:
            type: string
            pattern: '^[a-zA-Z0-9]{19}$'
            minLength: 5
            maxLength: 500
        - name: outpostId
          in: query
          required: true
          description: 'The ID of the AWS Outpost. '
          schema:
            type: string
            pattern: '^(op-[a-f0-9]{17}|\d{12}|ec2)$'
            minLength: 1
            maxLength: 100
    parameters:
      - $ref: '#/components/parameters/X-Amz-Content-Sha256'
      - $ref: '#/components/parameters/X-Amz-Date'
      - $ref: '#/components/parameters/X-Amz-Algorithm'
      - $ref: '#/components/parameters/X-Amz-Credential'
      - $ref: '#/components/parameters/X-Amz-Security-Token'
      - $ref: '#/components/parameters/X-Amz-Signature'
      - $ref: '#/components/parameters/X-Amz-SignedHeaders'
  /S3Outposts/ListEndpoints:
    get:
      operationId: ListEndpoints
      description: '<p>S3 on Outposts access points simplify managing data access at scale for shared datasets in Amazon S3 on Outposts. S3 on Outposts uses endpoints to connect to Outposts buckets so that you can perform actions within your virtual private cloud (VPC). </p> <p>This action lists endpoints associated with the Outpost. </p> <p/> <p>Related actions include:</p> <ul> <li> <p> <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_s3outposts_CreateEndpoint.html">CreateEndpoint</a> </p> </li> <li> <p> <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_s3outposts_DeleteEndpoint.html">DeleteEndpoint</a> </p> </li> </ul>'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListEndpointsResult'
        '480':
          description: InternalServerException
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerException'
        '481':
          description: ResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceNotFoundException'
        '482':
          description: AccessDeniedException
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccessDeniedException'
        '483':
          description: ValidationException
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationException'
      parameters:
        - name: nextToken
          in: query
          required: false
          description: The next endpoint requested in the list.
          schema:
            type: string
            pattern: '^[A-Za-z0-9\+\:\/\=\?\#-_]+$'
            minLength: 1
            maxLength: 1024
        - name: maxResults
          in: query
          required: false
          description: The max number of endpoints that can be returned on the request.
          schema:
            type: integer
            minimum: 0
            maximum: 100
        - name: MaxResults
          in: query
          schema:
            type: string
          description: Pagination limit
          required: false
        - name: NextToken
          in: query
          schema:
            type: string
          description: Pagination token
          required: false
    parameters:
      - $ref: '#/components/parameters/X-Amz-Content-Sha256'
      - $ref: '#/components/parameters/X-Amz-Date'
      - $ref: '#/components/parameters/X-Amz-Algorithm'
      - $ref: '#/components/parameters/X-Amz-Credential'
      - $ref: '#/components/parameters/X-Amz-Security-Token'
      - $ref: '#/components/parameters/X-Amz-Signature'
      - $ref: '#/components/parameters/X-Amz-SignedHeaders'
components:
  parameters:
    X-Amz-Content-Sha256:
      name: X-Amz-Content-Sha256
      in: header
      schema:
        type: string
      required: false
    X-Amz-Date:
      name: X-Amz-Date
      in: header
      schema:
        type: string
      required: false
    X-Amz-Algorithm:
      name: X-Amz-Algorithm
      in: header
      schema:
        type: string
      required: false
    X-Amz-Credential:
      name: X-Amz-Credential
      in: header
      schema:
        type: string
      required: false
    X-Amz-Security-Token:
      name: X-Amz-Security-Token
      in: header
      schema:
        type: string
      required: false
    X-Amz-Signature:
      name: X-Amz-Signature
      in: header
      schema:
        type: string
      required: false
    X-Amz-SignedHeaders:
      name: X-Amz-SignedHeaders
      in: header
      schema:
        type: string
      required: false
  securitySchemes:
    hmac:
      type: apiKey
      name: Authorization
      in: header
      description: Amazon Signature authorization v4
      x-amazon-apigateway-authtype: awsSigv4
  schemas:
    CreateEndpointResult:
      type: object
      properties:
        EndpointArn:
          allOf:
            - $ref: '#/components/schemas/EndpointArn'
            - description: The Amazon Resource Name (ARN) of the endpoint.
    InternalServerException: {}
    ValidationException: {}
    AccessDeniedException: {}
    ResourceNotFoundException: {}
    ConflictException: {}
    ListEndpointsResult:
      type: object
      properties:
        Endpoints:
          allOf:
            - $ref: '#/components/schemas/Endpoints'
            - description: Returns an array of endpoints associated with AWS Outpost.
        NextToken:
          allOf:
            - $ref: '#/components/schemas/NextToken'
            - description: The next endpoint returned in the list.
    CidrBlock:
      type: string
      minLength: 1
      maxLength: 20
    OutpostId:
      type: string
      pattern: '^(op-[a-f0-9]{17}|\d{12}|ec2)$'
      minLength: 1
      maxLength: 100
    SubnetId:
      type: string
      pattern: '^subnet-([0-9a-f]{8}|[0-9a-f]{17})$'
      minLength: 1
      maxLength: 100
    SecurityGroupId:
      type: string
      pattern: '^sg-([0-9a-f]{8}|[0-9a-f]{17})$'
      minLength: 1
      maxLength: 100
    CreateEndpointRequest:
      type: object
      required:
        - OutpostId
        - SubnetId
        - SecurityGroupId
      title: CreateEndpointRequest
      properties:
        OutpostId:
          allOf:
            - $ref: '#/components/schemas/OutpostId'
            - description: 'The ID of the AWS Outpost. '
        SubnetId:
          allOf:
            - $ref: '#/components/schemas/SubnetId'
            - description: The ID of the subnet in the selected VPC.
        SecurityGroupId:
          allOf:
            - $ref: '#/components/schemas/SecurityGroupId'
            - description: The ID of the security group to use with the endpoint.
    EndpointArn:
      type: string
      pattern: '^arn:(aws|aws-cn|aws-us-gov|aws-iso|aws-iso-b):s3-outposts:[a-z\-0-9]*:[0-9]{12}:outpost/(op-[a-f0-9]{17}|ec2)/endpoint/[a-zA-Z0-9]{19}$'
      minLength: 5
      maxLength: 500
    CreationTime:
      type: string
      format: date-time
    EndpointId:
      type: string
      pattern: '^[a-zA-Z0-9]{19}$'
      minLength: 5
      maxLength: 500
    DeleteEndpointRequest:
      type: object
      title: DeleteEndpointRequest
      properties: {}
    EndpointStatus:
      type: string
      enum:
        - PENDING
        - AVAILABLE
    NetworkInterfaces:
      type: array
      items:
        $ref: '#/components/schemas/NetworkInterface'
    Endpoint:
      type: object
      properties:
        EndpointArn:
          allOf:
            - $ref: '#/components/schemas/EndpointArn'
            - description: The Amazon Resource Name (ARN) of the endpoint.
        OutpostsId:
          allOf:
            - $ref: '#/components/schemas/OutpostId'
            - description: The ID of the AWS Outpost.
        CidrBlock:
          allOf:
            - $ref: '#/components/schemas/CidrBlock'
            - description: The VPC CIDR committed by this endpoint.
        Status:
          allOf:
            - $ref: '#/components/schemas/EndpointStatus'
            - description: The status of the endpoint.
        CreationTime:
          allOf:
            - $ref: '#/components/schemas/CreationTime'
            - description: The time the endpoint was created.
        NetworkInterfaces:
          allOf:
            - $ref: '#/components/schemas/NetworkInterfaces'
            - description: The network interface of the endpoint.
      description: 'S3 on Outposts access points simplify managing data access at scale for shared datasets in Amazon S3 on Outposts. S3 on Outposts uses endpoints to connect to Outposts buckets so that you can perform actions within your virtual private cloud (VPC). '
    Endpoints:
      type: array
      items:
        $ref: '#/components/schemas/Endpoint'
    NextToken:
      type: string
      pattern: '^[A-Za-z0-9\+\:\/\=\?\#-_]+$'
      minLength: 1
      maxLength: 1024
    MaxResults:
      type: integer
      minimum: 0
      maximum: 100
    ListEndpointsRequest:
      type: object
      title: ListEndpointsRequest
      properties: {}
    NetworkInterfaceId:
      type: string
      minLength: 1
      maxLength: 100
    NetworkInterface:
      type: object
      properties:
        NetworkInterfaceId:
          allOf:
            - $ref: '#/components/schemas/NetworkInterfaceId'
            - description: The ID for the network interface.
      description: The container for the network interface.
security:
  - hmac: []
